{% extends "base.html" %}
{% block title %}
新規会員登録
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login copy.css') }}">

<body class="register-body">
    <div class="register-container">
        <h1>新規会員登録</h1>
        <form method="POST" action="{{ url_for('login.register_user_complete') }}">
            <div class="register-form-group">
                <label for="email">メールアドレス</label>
                <input type="email" id="mail" name="mail" required value="{{ account.mail if account else '' }}">
                {% if error_same %}
                <p class="error-message text-[#FF0000]">{{ error_same }}</p>
                {% endif %}
                    </div>
            <div class="register-form-group">
                <label for="password">パスワード</label>
                <input type="password" name="password" id="password" placeholder="8文字以上" required minlength="8">
                {% if error %}
                <p class="error-message text-[#FF0000]">{{ error }}</p>
                {% endif %}
            </div>

            <div class="register-form-group">
                <label for="password_confirm">パスワード再入力</label>
                <input type="password" name="password_confirm" id="password_confirm" placeholder="確認用" required minlength="8">
            </div>

            <button type="submit" class="register-btn" id="register_btn">同意して送信する</button>
        </form>

        {% if message %}
        <p class="register-message">{{ message }}</p>
        {% endif %}

    </div>

    <!-- 利用規約ポップアップ（最初から表示） -->
<div id="popupOverlay" class="popup-overlay">
    <div class="popup-content">
        <h2 id="popupTitle">利用規約</h2>
        <div class="popup-text">
            {% for line in result.content_detail.split('\n\n') %}
                {% if line.strip() %}
                    <p>{{ line.strip() }}</p>
                {% endif %}
            {% endfor %}
        </div>
        <div class="popup-buttons">
            <button id="declinePopup">同意しない</button>
            <button id="agreePopup">同意する</button>
        </div>
    </div>
</div>

    <style>
    </style>

    <script>
    </script>

    <script src="{{ url_for('static', filename='js/register_account.js') }}"></script>

</body>
{% endblock %}
